"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7046],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},g={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),d=o,f=u["".concat(s,".").concat(d)]||u[d]||g[d]||i;return n?r.createElement(f,a(a({ref:t},p),{},{components:n})):r.createElement(f,a({ref:t},p))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},2161:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>g,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(7462),o=(n(7294),n(3905));const i={},a="Connecting Flows via Events",l={unversionedId:"production/event-triggering/README",id:"production/event-triggering/README",title:"Connecting Flows via Events",description:"Real-world production systems are not islands. They are often tightly connected",source:"@site/docs/production/event-triggering/README.md",sourceDirName:"production/event-triggering",slug:"/production/event-triggering/",permalink:"/production/event-triggering/",draft:!1,editUrl:"https://github.dev/Netflix/metaflow-docs/blob/master/docs/production/event-triggering/README.md",tags:[],version:"current",frontMatter:{},sidebar:"python",previous:{title:"Coordinating Larger Metaflow Projects",permalink:"/production/coordinating-larger-metaflow-projects"},next:{title:"Triggering Flows Based on External Events",permalink:"/production/event-triggering/external-events"}},s={},c=[],p={toc:c};function g(e){let{components:t,...i}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"connecting-flows-via-events"},"Connecting Flows via Events"),(0,o.kt)("p",null,"Real-world production systems are not islands. They are often tightly connected\nto their surrounding environment, reacting to changes in real time. Using\nthe ",(0,o.kt)("em",{parentName:"p"},"event triggering")," pattern described in this section, you can make Metaflow\nflows start automatically based on external events. Or, you can connect\nmultiple flows together, via events, to build arbitrarily complex systems by\nusing workflows as building blocks."),(0,o.kt)("p",null,"Event triggering is an alternative to time-based scheduling using\n",(0,o.kt)("a",{parentName:"p",href:"/production/scheduling-metaflow-flows/scheduling-with-argo-workflows#scheduling-a-flow"},"the ",(0,o.kt)("inlineCode",{parentName:"a"},"@schedule")," decorator"),".\nInstead of flows starting at a specific date and time, they are triggered when\na particular ",(0,o.kt)("em",{parentName:"p"},"event")," is sent to a production orchestrator. This diagram\nillustrates the concept:"),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(9182).Z,width:"1588",height:"810"})),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"External systems like data warehouses, ETL pipelines, or microservices can create special ",(0,o.kt)("em",{parentName:"p"},"events"),"\nwhich trigger executions of flows deployed ",(0,o.kt)("a",{parentName:"p",href:"/production/scheduling-metaflow-flows/introduction"},"on a production orchestrator"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Deployed flows can also trigger other flows automatically. In this case, ",(0,o.kt)("inlineCode",{parentName:"p"},"SecondFlow")," is configured\nto start automatically when ",(0,o.kt)("inlineCode",{parentName:"p"},"FirstFlow")," finishes."))),(0,o.kt)("p",null,"Events define a clear interface between workflows, which can be developed and\noperated independently, allowing multiple people to collaborate without\nfriction when building and operating a larger system. For more context about\nevent triggering, ",(0,o.kt)("a",{parentName:"p",href:"#"},"see the announcement blog post"),"."),(0,o.kt)("p",null,"Get started with event triggering by reading the next three sections. The fourth\nsection is relevant for more advanced use cases that leverage ",(0,o.kt)("a",{parentName:"p",href:"/production/coordinating-larger-metaflow-projects"},"the ",(0,o.kt)("inlineCode",{parentName:"a"},"@project"),"\ndecorator")," to deploy\nmultiple concurrent variants of event-triggered flows. "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"/production/event-triggering/external-events"},"Triggering flows based on external events")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"/production/event-triggering/flow-events"},"Triggering flows based on other flows")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"/production/event-triggering/inspect-events"},"Inspecting events")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"/production/event-triggering/project-events"},"Deploying variants of event-triggered flows"))),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"As of today, event triggering is only supported on\n",(0,o.kt)("a",{parentName:"p",href:"/production/scheduling-metaflow-flows/scheduling-with-argo-workflows"},"Argo Workflows"),".\nLet us know on ",(0,o.kt)("a",{parentName:"p",href:"http://slack.outerbounds.co"},"Metaflow community Slack")," if you would\nlike to see other production orchestrators supported as well.")))}g.isMDXComponent=!0},9182:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/events-overview-fdc40e3719b207d37651333db014b077.png"}}]);