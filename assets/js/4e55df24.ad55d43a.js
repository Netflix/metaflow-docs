"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[1840],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var u=n.createContext({}),s=function(e){var t=n.useContext(u),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=s(e.components);return n.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,u=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(o),h=r,f=d["".concat(u,".").concat(h)]||d[h]||p[h]||a;return o?n.createElement(f,i(i({ref:t},c),{},{components:o})):n.createElement(f,i({ref:t},c))}));function h(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<a;s++)i[s]=o[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},6986:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var n=o(7462),r=(o(7294),o(3905));const a={},i="Scheduling Metaflow Flows",l={unversionedId:"production/scheduling-metaflow-flows/introduction",id:"production/scheduling-metaflow-flows/introduction",title:"Scheduling Metaflow Flows",description:"While the run command is convenient during development, you can't keep executing it",source:"@site/docs/production/scheduling-metaflow-flows/introduction.md",sourceDirName:"production/scheduling-metaflow-flows",slug:"/production/scheduling-metaflow-flows/introduction",permalink:"/production/scheduling-metaflow-flows/introduction",draft:!1,editUrl:"https://github.dev/Netflix/metaflow-docs/blob/master/docs/production/scheduling-metaflow-flows/introduction.md",tags:[],version:"current",frontMatter:{},sidebar:"python",previous:{title:"Production Deployments",permalink:"/production/introduction"},next:{title:"Scheduling Metaflow Flows with Argo Workflows",permalink:"/production/scheduling-metaflow-flows/scheduling-with-argo-workflows"}},u={},s=[{value:"Which production orchestrator to use?",id:"which-production-orchestrator-to-use",level:3}],c={toc:s};function p(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"scheduling-metaflow-flows"},"Scheduling Metaflow Flows"),(0,r.kt)("p",null,"While the ",(0,r.kt)("inlineCode",{parentName:"p"},"run")," command is convenient during development, you can't keep executing it\nmanually in production. An old-school solution would be to use a time-based scheduler\nlike ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Cron"},"Cron")," to execute the command automatically at\na set schedule, but this approach has a number of serious downsides:"),(0,r.kt)("p",null,"What if the server running cron fails? If the scheduled command fails, how do you know\nit has failed? How do you see its error logs? Does the Cron server have enough capacity\nto handle another command? And most importantly, how should you orchestrate schedules of\nmultiple commands so that their mutual dependencies are handled correctly?"),(0,r.kt)("p",null,"Metaflow currently integrates with a number of production orchestrators which can answer\nthese questions:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://argoproj.github.io/workflows"},"Argo Workflows")," - [a modern,\nKubernetes-native workflow orchestrator,"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://aws.amazon.com/step-functions/"},"AWS Step Functions")," - a managed general-purpose orchestrator,"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://airflow.apache.org/"},"Apache Airflow")," - a\nwidely-known orchestrator focused on data engineering,"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.kubeflow.org/"},"Kubeflow")," - an open-source\nML/AI platform on Kubernetes.")),(0,r.kt)("h3",{id:"which-production-orchestrator-to-use"},"Which production orchestrator to use?"),(0,r.kt)("p",null,"If you do not have existing orchestration infrastructure, ",(0,r.kt)("strong",{parentName:"p"},"Argo Workflows")," is a solid choice if you are ready to ",(0,r.kt)("a",{parentName:"p",href:"/getting-started/infrastructure"},"deploy Metaflow on Kubernetes"),". ",(0,r.kt)("strong",{parentName:"p"},"AWS Step Functions")," is an easy-to-adopt alternative that runs natively on AWS, though with a more limited feature set."),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Airflow")," and ",(0,r.kt)("strong",{parentName:"p"},"Kubeflow")," integrations are useful if these orchestrators are\nalready deployed in your environment and you want to benefit from Metaflow\u2019s developer experience without introducing a new orchestrator. While the feature set is more\nlimited, these integrations let you get started with Metaflow without requiring\nmigrations."),(0,r.kt)("p",null,"Learn more about how to deploy your Metaflow flows to these orchestrators in the\nfollowing subsections:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../scheduling-metaflow-flows/scheduling-with-argo-workflows"},"Scheduling with Argo\nWorkflows")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../scheduling-metaflow-flows/scheduling-with-aws-step-functions"},"Scheduling with AWS Step\nFunctions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../scheduling-metaflow-flows/scheduling-with-airflow"},"Scheduling with Airflow")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../scheduling-metaflow-flows/scheduling-with-kubeflow"},"Scheduling with Kubeflow"))),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Note that you can ",(0,r.kt)("a",{parentName:"p",href:"/metaflow/managing-flows/deployer"},"manage production deployments programmatically"),"\nthrough ",(0,r.kt)("a",{parentName:"p",href:"/api/deployer"},"the ",(0,r.kt)("inlineCode",{parentName:"a"},"Deployer")," API"),".")))}p.isMDXComponent=!0}}]);