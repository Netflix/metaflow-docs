<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-getting-started/infrastructure">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EYFXNGNGB6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EYFXNGNGB6",{anonymize_ip:!0})</script><title data-rh="true">Deploying Infrastructure for Metaflow | Metaflow Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.metaflow.org/img/og-metaflow.png"><meta data-rh="true" name="twitter:image" content="https://docs.metaflow.org/img/og-metaflow.png"><meta data-rh="true" property="og:url" content="https://docs.metaflow.org/getting-started/infrastructure"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:width" content="200"><meta data-rh="true" name="og:height" content="126"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploying Infrastructure for Metaflow | Metaflow Docs"><meta data-rh="true" name="description" content="While you can get started with Metaflow easily on your"><meta data-rh="true" property="og:description" content="While you can get started with Metaflow easily on your"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.metaflow.org/getting-started/infrastructure"><link data-rh="true" rel="alternate" href="https://docs.metaflow.org/getting-started/infrastructure" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.metaflow.org/getting-started/infrastructure" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://5IZ8L9TJQL-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.3a1f2e37.css">
<link rel="preload" href="/assets/js/runtime~main.ed43acaa.js" as="script">
<link rel="preload" href="/assets/js/main.591a0229.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Metaflow_Logo_Horizontal_OneColor_DarkBlue_RGB.svg" alt="Metaflow Logo" class="themedImage_ToTc themedImage--light_HNdA" height="30"><img src="/img/Metaflow_Logo_Horizontal_OneColor_White_RGB.svg" alt="Metaflow Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="30"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Python Docs</a><a class="navbar__item navbar__link" href="/v/r">R Docs</a><a href="https://outerbounds.com/docs/admin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Admin Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/Metaflow_Logo_Horizontal_OneColor_DarkBlue_RGB.svg" alt="Metaflow Logo" class="themedImage_ToTc themedImage--light_HNdA" height="30"><img src="/img/Metaflow_Logo_Horizontal_OneColor_White_RGB.svg" alt="Metaflow Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="30"></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome to Metaflow</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/introduction/why-metaflow">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/getting-started/install">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/getting-started/install">Installing Metaflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/getting-started/infrastructure">Deploying Infrastructure for Metaflow</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/getting-started/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/metaflow/introduction">Developing with Metaflow</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developing with Metaflow&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/scaling/introduction">Scalable Flows</a><button aria-label="Toggle the collapsible sidebar category &#x27;Scalable Flows&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/production/introduction">Production Deployments</a><button aria-label="Toggle the collapsible sidebar category &#x27;Production Deployments&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/api">API Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;API Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/internals/release-notes">Internals of Metaflow</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting Started</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deploying Infrastructure for Metaflow</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Deploying Infrastructure for Metaflow</h1><p>While you can <a href="/getting-started/install">get started with Metaflow easily</a> on your
laptop, the main benefits of Metaflow lie in its ability to <a href="/scaling/introduction">scale out to external
compute clusters</a> and to <a href="/production/introduction">deploy to production-grade workflow
orchestrators</a>. To benefit from these features, you need to
configure Metaflow and the infrastructure behind it appropriately. A separate guide,
<a href="https://outerbounds.com/engineering/welcome/" target="_blank" rel="noopener noreferrer">Metaflow Resources for Engineers</a> covers
everything related to such deployments. This page provides a quick overview.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="supported-infrastructure-components">Supported infrastructure components<a class="hash-link" href="#supported-infrastructure-components" title="Direct link to heading">â€‹</a></h2><p>Since modern data science / ML applications are powered by a number of interconnected
systems, it is useful to organize them as an infrastructure stack like the one
illustrated below (<a href="/introduction/why-metaflow">Why? See here</a>). You can see logos of
all supported systems which you can use to enable each layer.</p><p>Consider this illustration as a menu that allows you to build your own pizza: You get to
customize your own crust, sauce, toppings, and cheese. You can make the choices based on
your existing business infrastructure and the requirements and preferences of your
organization. Fortunately, Metaflow provides a consistent API for all these
combinations, so you can even change the choices later without having to rewrite your
flows.</p><object style="width:700px" type="image/svg+xml" data="/assets/infra-stack.svg"></object><p>The table below explains the five major deployment options for Metaflow and what
components of the stack are supported in each. You can choose to deploy Metaflow on:</p><ol><li><strong>Only local</strong> environment - <a href="/getting-started/install">just <code>pip install metaflow</code> on any
workstation</a>.</li><li><strong>AWS</strong> either on <a href="https://outerbounds.com/engineering/deployment/aws-k8s/deployment/" target="_blank" rel="noopener noreferrer">EKS as a Kubernetes
platform</a> or
<a href="https://outerbounds.com/engineering/deployment/aws-managed/introduction/" target="_blank" rel="noopener noreferrer">using AWS-managed
services</a>.</li><li><strong>Azure</strong> on <a href="https://outerbounds.com/engineering/deployment/azure-k8s/deployment/" target="_blank" rel="noopener noreferrer">AKS as a Kubernetes
platform</a>.</li><li><strong>Google Cloud</strong> on <a href="https://outerbounds.com/engineering/deployment/gcp-k8s/deployment/" target="_blank" rel="noopener noreferrer">GKE as a Kubernetes
platform</a>.</li><li><a href="https://outerbounds.com/engineering/deployment/aws-k8s/deployment/" target="_blank" rel="noopener noreferrer">Any <strong>Kubernetes</strong>
cluster</a>
including on-premise deployments.</li></ol><table><thead><tr><th>Layer</th><th>Component</th><th>Description</th><th>Only Local</th><th>AWS</th><th>Azure</th><th>GCP</th><th>K8s</th></tr></thead><tbody><tr><td>Modeling</td><td><img loading="lazy" src="/assets/infra-python.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Python libraries</strong></td><td>Any Python libraries</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr><tr><td>Deployment</td><td><img loading="lazy" src="/assets/infra-argo.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Argo Workflows</strong></td><td>Open-source production-grade workflow orchestrator</td><td></td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr><tr><td>Deployment</td><td><img loading="lazy" src="/assets/infra-sfn.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Step Functions</strong></td><td>AWS-managed production-grade workflow orchestrator</td><td></td><td>ðŸŸ¢</td><td></td><td></td><td></td></tr><tr><td>Deployment</td><td><img loading="lazy" src="/assets/infra-airflow.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Apache Airflow</strong></td><td>Popular open-source workflow orchestrator</td><td></td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr><tr><td>Versioning</td><td><img loading="lazy" src="/assets/infra-mflocal.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Local Metadata</strong></td><td>Metaflow&#x27;s tracking in local files</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr><tr><td>Versioning</td><td><img loading="lazy" src="/assets/infra-metaflow.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Metadata Service</strong></td><td>Metaflow&#x27;s tracking in a central database</td><td></td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr><tr><td>Orchestration</td><td><img loading="lazy" src="/assets/infra-mflocal.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Local Orchestrator</strong></td><td>Metaflow&#x27;s local workflow orchestrator</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr><tr><td>Compute</td><td><img loading="lazy" src="/assets/infra-mflocal.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Local Processes</strong></td><td>Metaflow tasks as local processes</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr><tr><td>Compute</td><td><img loading="lazy" src="/assets/infra-batch.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>AWS Batch</strong></td><td>AWS-managed batch compute service</td><td></td><td>ðŸŸ¢</td><td></td><td></td><td></td></tr><tr><td>Compute</td><td><img loading="lazy" src="/assets/infra-k8s.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Kubernetes</strong></td><td>Open-source batch compute platform</td><td></td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr><tr><td>Data</td><td><img loading="lazy" src="/assets/infra-mflocal.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Local Datastore</strong></td><td>Metaflow artifacts in local files</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr><tr><td>Data</td><td><img loading="lazy" src="/assets/infra-s3.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>AWS S3</strong></td><td>Metaflow artifacts in AWS-managed storage</td><td></td><td>ðŸŸ¢</td><td></td><td></td><td>ðŸŸ¢</td></tr><tr><td>Data</td><td><img loading="lazy" src="/assets/infra-azureblob.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Azure Blob Storage</strong></td><td>Metaflow artifacts in Azure-managed storage</td><td></td><td></td><td>ðŸŸ¢</td><td></td><td>ðŸŸ¢</td></tr><tr><td>Data</td><td><img loading="lazy" src="/assets/infra-gcs.png" width=" 30" style="vertical-align:middle" class="img_ev3q"> <strong>Google Cloud Storage</strong></td><td>Metaflow artifacts in Google-managed storage</td><td></td><td></td><td></td><td>ðŸŸ¢</td><td>ðŸŸ¢</td></tr></tbody></table><p>Note that fast prototyping with the Local Orchestrator is supported in all these
options, but the <strong>only local</strong> option doesn&#x27;t support scalability with an external
compute layer, nor production-grade deployments.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>You can test the AWS/Azure/GCP/Kubernetes stack easily in your browser for free
by signing up for a <a href="https://metaflow.org/sandbox/" target="_blank" rel="noopener noreferrer">Metaflow Sandbox</a>.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="example-stacks">Example stacks<a class="hash-link" href="#example-stacks" title="Direct link to heading">â€‹</a></h2><p>Here are some typical deployments that we have seen in action:</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="local-effortless-prototyping">Local: Effortless prototyping<a class="hash-link" href="#local-effortless-prototyping" title="Direct link to heading">â€‹</a></h3><p><strong>Just <code>pip install metaflow</code> to deploy this stack</strong></p><p>This is the stack you get by default when you <a href="/getting-started/install">install Metaflow
locally</a>. It&#x27;s main benefit is zero configuration and
maintenance - it works out of the box. It is a great way to get started with Metaflow.</p><object style="width:700px" type="image/svg+xml" data="/assets/infra-stack-all-local.svg"></object><p>When you want to start <a href="/scaling/tagging">collaborating with multiple people</a> which
requires a central metadata service, or you want to start running <a href="/scaling/introduction">larger-scale
workloads</a>, or you want to <a href="/production/introduction">deploy your
workflows</a> so that they run even when your laptop is asleep,
look into more featureful stacks below.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="low-maintenance-scalable-prototyping-powered-by-aws">Low-maintenance scalable prototyping, powered by AWS<a class="hash-link" href="#low-maintenance-scalable-prototyping-powered-by-aws" title="Direct link to heading">â€‹</a></h3><p><strong><a href="https://outerbounds.com/engineering/deployment/aws-managed/introduction/" target="_blank" rel="noopener noreferrer">Click here to deploy this
stack</a></strong></p><p>If you are looking for the easiest and the most affordable way to scale out compute to
the cloud, including cloud-based GPUs, this stack is a great option. Consider the
benefits:</p><ul><li>Artifacts are stored in AWS S3, so you don&#x27;t have to worry about running out of
storage or losing data.</li><li>Scalability is managed by <a href="https://aws.amazon.com/batch/" target="_blank" rel="noopener noreferrer">AWS Batch</a> which requires no
maintenance after the initial setup.</li><li><a href="https://aws.amazon.com/batch/" target="_blank" rel="noopener noreferrer">AWS Batch</a> is very cost-effective: You pay only for
the EC2 instance time used by second, with no additional costs. To reduce the cost of
compute even further, you can leverage spot instances.</li></ul><object style="width:700px" type="image/svg+xml" data="/assets/infra-stack-scaling.svg"></object><p>In this stack, the main missing piece is <a href="/production/introduction">a highly-available workflow
orchestrator</a> which you can easily add by upgrading to the
option below. Also, larger teams with more involved compute needs may find <a href="https://aws.amazon.com/batch/" target="_blank" rel="noopener noreferrer">AWS
Batch</a> limiting, in which case you can look into
Kubernetes-based stacks.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="low-maintenance-full-stack-powered-by-aws">Low-maintenance full stack, powered by AWS<a class="hash-link" href="#low-maintenance-full-stack-powered-by-aws" title="Direct link to heading">â€‹</a></h3><p><strong><a href="https://outerbounds.com/engineering/deployment/aws-managed/introduction/" target="_blank" rel="noopener noreferrer">Click here to deploy this
stack</a></strong></p><p>If you need the full stack of data science/ML infrastructure but want to spend a minimal
amount of effort to set up and manage it, choose this option. You get all the benefits
of AWS Batch as described above, as well as production deployments on <a href="https://aws.amazon.com/step-functions/" target="_blank" rel="noopener noreferrer">AWS Step
Functions</a> which is a highly-available, scalable
workflow orchestrator managed by AWS. Metaflow tracks everything in a central metadata
service, making collaboration straightforward.</p><object style="width:700px" type="image/svg+xml" data="/assets/infra-stack-aws-native.svg"></object><p>Here are the main reasons for not using this stack:</p><ul><li>You want to use another cloud besides AWS.</li><li>You need a more customizable workflow orchestrator and a compute platform than what
the AWS-managed services can provide.</li><li>This stack doesn&#x27;t support <a href="/production/event-triggering">event-triggering</a>. If this
feature is important to you, consider using one of the Kubernetes-based stacks.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="customizable-full-stack-on-aws-powered-by-kubernetes">Customizable full stack on AWS, powered by Kubernetes<a class="hash-link" href="#customizable-full-stack-on-aws-powered-by-kubernetes" title="Direct link to heading">â€‹</a></h3><p><strong><a href="https://outerbounds.com/engineering/deployment/aws-k8s/deployment/" target="_blank" rel="noopener noreferrer">Click here to deploy this
stack</a></strong></p><p>If your engineering team has prior experience with Kubernetes, they might prefer a
familiar stack that works with their existing security policies, observability tools,
and deployment mechanisms. In this case, this Kubernetes-native stack featuring compute
on Kubernetes and deployments on reliable, scalable, open-source <a href="https://argoproj.github.io/argo-workflows/" target="_blank" rel="noopener noreferrer">Argo
Workflows</a> is a good option.</p><p>This stack can be <a href="https://outerbounds.com/engineering/deployment/aws-k8s/deployment/" target="_blank" rel="noopener noreferrer">easily deployed on EKS on
AWS</a>, leveraging S3
as the datastore. Alternatively, some companies run this stack on-premise using
<a href="https://min.io/" target="_blank" rel="noopener noreferrer">Minio</a> as an S3-compatible datastore.</p><object style="width:700px" type="image/svg+xml" data="/assets/infra-stack-aws-k8s.svg"></object><p>This stack requires more maintenance than the AWS-native stack above, although the basic
setup is quite manageable if your organization is already familiar with Kubernetes.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="customizable-full-stack-on-azure-powered-by-kubernetes">Customizable full stack on Azure, powered by Kubernetes<a class="hash-link" href="#customizable-full-stack-on-azure-powered-by-kubernetes" title="Direct link to heading">â€‹</a></h3><p><strong><a href="https://outerbounds.com/engineering/deployment/azure-k8s/deployment/" target="_blank" rel="noopener noreferrer">Click here to deploy this
stack</a></strong></p><p>If you need a full-stack DS/ML platform on Azure, this Kubernetes-based stack is a good
option. It is the same stack as the one running on EKS on AWS, with the S3-based
datastore replaced with Azure Blob Storage.</p><object style="width:700px" type="image/svg+xml" data="/assets/infra-stack-azure.svg"></object><p>This stack incurs a typical maintenance overhead of an AKS-based Kubernetes cluster,
which shouldn&#x27;t add much burden if your organization uses AKS already.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="customizable-full-stack-on-google-cloud-powered-by-kubernetes">Customizable full stack on Google Cloud, powered by Kubernetes<a class="hash-link" href="#customizable-full-stack-on-google-cloud-powered-by-kubernetes" title="Direct link to heading">â€‹</a></h3><p><strong><a href="https://outerbounds.com/engineering/deployment/gcp-k8s/deployment/" target="_blank" rel="noopener noreferrer">Click here to deploy this
stack</a></strong></p><p>If you need a full-stack DS/ML platform on Google Cloud, this Kubernetes-based stack is
a good option. It is the same stack as the one running on EKS on AWS, with the S3-based
datastore replaced with Google Cloud Storage.</p><object style="width:700px" type="image/svg+xml" data="/assets/infra-stack-gcp.svg"></object><p>This stack incurs a typical maintenance overhead of an GKE-based Kubernetes cluster,
which shouldn&#x27;t add much burden if your organization uses GKE already.</p><hr><p>If you are unsure about the stacks, just run <code>pip install metaflow</code> to install the local
stack and move on to <a href="/getting-started/tutorials">the tutorials</a>. Flows you create will
work without changes on any of these stacks.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.dev/Netflix/metaflow-docs/blob/master/docs/getting-started/infrastructure.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/getting-started/install"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installing Metaflow</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/getting-started/tutorials"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorials</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#supported-infrastructure-components" class="table-of-contents__link toc-highlight">Supported infrastructure components</a></li><li><a href="#example-stacks" class="table-of-contents__link toc-highlight">Example stacks</a><ul><li><a href="#local-effortless-prototyping" class="table-of-contents__link toc-highlight">Local: Effortless prototyping</a></li><li><a href="#low-maintenance-scalable-prototyping-powered-by-aws" class="table-of-contents__link toc-highlight">Low-maintenance scalable prototyping, powered by AWS</a></li><li><a href="#low-maintenance-full-stack-powered-by-aws" class="table-of-contents__link toc-highlight">Low-maintenance full stack, powered by AWS</a></li><li><a href="#customizable-full-stack-on-aws-powered-by-kubernetes" class="table-of-contents__link toc-highlight">Customizable full stack on AWS, powered by Kubernetes</a></li><li><a href="#customizable-full-stack-on-azure-powered-by-kubernetes" class="table-of-contents__link toc-highlight">Customizable full stack on Azure, powered by Kubernetes</a></li><li><a href="#customizable-full-stack-on-google-cloud-powered-by-kubernetes" class="table-of-contents__link toc-highlight">Customizable full stack on Google Cloud, powered by Kubernetes</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.ed43acaa.js"></script>
<script src="/assets/js/main.591a0229.js"></script>
</body>
</html>